<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eggy Clicker</title>

<style>
body{
margin:0;
font-family:Arial;
background:#fdf6f0;
text-align:center;
transition:0.3s;
}

.panel{
margin:10px auto;
padding:12px;
border-radius:12px;
width:95%;
max-width:450px;
box-shadow:0 0 15px rgba(0,0,0,0.15);
}

button{
width:100%;
padding:10px;
margin-top:6px;
border:none;
border-radius:8px;
font-weight:bold;
cursor:pointer;
}

#gameScreen{display:none}

#clickWrapper{
position:relative;
display:inline-block;
z-index:5;
}

#clickArea{
font-size:120px;
cursor:pointer;
animation:bounce 1.2s infinite ease-in-out;
user-select:none;
position:relative;
z-index:10;
}

@keyframes bounce{
0%,100%{transform:translateY(0)}
50%{transform:translateY(-12px)}
}

.floating{
position:absolute;
color:orange;
font-weight:bold;
pointer-events:none;
animation:floatUp 1s forwards;
z-index:20;
}

@keyframes floatUp{
0%{opacity:1}
100%{opacity:0;transform:translateY(-40px)}
}

.notification{
position:fixed;
top:-100px;
left:50%;
transform:translateX(-50%);
background:gold;
padding:12px 25px;
border-radius:12px;
font-weight:bold;
transition:.4s;
z-index:999;
}

.locked{
opacity:.4;
filter:grayscale(100%);
}

#wardrobeBtn{background:red;color:white}
#saveBtn{background:green;color:white}
#shopPanel{background:#4da6ff;color:white}
#prestigePanel{background:orange;color:white}
#wardrobePanel{background:#ff4d4d;color:white;display:none}
</style>
</head>
<body>

<div id="homeScreen">
<h1>ðŸ¥š EGGY CLICKER ðŸ¥š</h1>
<input id="usernameInput" placeholder="Enter Username">
<button onclick="startNewGame()">Start Game</button>
<button onclick="loadGame()">Load Save</button>
</div>

<div id="gameScreen">

<h2 id="usernameDisplay"></h2>
<h2 id="eggDisplay"></h2>
<div id="pointsDisplay"></div>
<div id="cpsDisplay">CPS: 0</div>

<div id="clickWrapper">
<div id="clickArea">ðŸ¥š</div>
</div>

<div class="panel">
<button id="wardrobeBtn" onclick="toggleWardrobe()">Wardrobe</button>
</div>

<div id="wardrobePanel" class="panel">
<h3>Wardrobe</h3>
<div id="wardrobeList"></div>
</div>

<div class="panel" id="shopPanel">
<h3>Shop</h3>
<button onclick="buyClick()" id="clickBtn"></button>
<button onclick="buyAuto()" id="autoBtn"></button>
<button onclick="buyCrit()" id="critBtn"></button>
<button onclick="changeBackground()">Change Background (100)</button>
</div>

<div class="panel" id="prestigePanel">
<h3>Prestige</h3>
<button onclick="prestige()" id="prestigeBtn"></button>
</div>

<div class="panel">
<h3>Achievements</h3>
<div id="achievementsList"></div>
</div>

<div class="panel">
<button onclick="toggleMode()">Toggle Emoji / Image</button>
<button onclick="manualSave()" id="saveBtn">Save</button>
<button onclick="exportSave()">Export</button>
<button onclick="importSave()">Import</button>
<button onclick="deleteData()">Delete Data</button>
</div>

</div>

<div id="notification" class="notification"></div>

<script>

// ================= DATA =================

const tiers=["None","Bronze","Silver","Gold","Diamond"];
const forms=["Normal","Cool","Top Hat","Crown"];
const emojis=["ðŸ¥š","ðŸ˜ŽðŸ¥š","ðŸŽ©ðŸ¥š","ðŸ‘‘ðŸ¥š"];

let useEmoji=true;
let clickTimes=[];
let critStreak=0;
let maxCritStreak=0;

const defaultGame={
username:"",
points:0,
totalClicks:0,
clickValue:1,
passive:0,
critChance:0,
clickCost:50,
autoCost:200,
critCost:300,
form:0,
prestigeLevel:0,
ownedSkins:["0-0"],
achievements:[],
background:"#fdf6f0",
lastPlayed:Date.now()
};

let game;

// ================= NOTIFY =================

function notify(text){
notification.innerText=text;
notification.style.top="20px";
setTimeout(()=>notification.style.top="-100px",2500);
}

// ================= START =================

function startNewGame(){
let name=usernameInput.value.trim();
if(!name)return alert("Enter Username");
game=JSON.parse(JSON.stringify(defaultGame));
game.username=name;
showGame();
unlockAchievement(0);
updateUI();
}

function showGame(){
homeScreen.style.display="none";
gameScreen.style.display="block";
}

// ================= SAVE =================

function manualSave(){
game.lastPlayed=Date.now();
localStorage.setItem("eggySave",JSON.stringify(game));
notify("Game Saved!");
}

function loadGame(){
let data=localStorage.getItem("eggySave");
if(!data)return alert("No save found");
game=JSON.parse(data);

let diff=Math.floor((Date.now()-game.lastPlayed)/1000);
let offline=Math.min(diff,1800);
let earnings=offline*game.passive*0.25;
game.points+=earnings;

showGame();
updateUI();
notify("Offline +" + Math.floor(earnings));
}

function exportSave(){
navigator.clipboard.writeText(btoa(JSON.stringify(game)));
notify("Save Code Copied!");
}

function importSave(){
let code=prompt("Paste Save Code");
if(!code)return;
game=JSON.parse(atob(code));
localStorage.setItem("eggySave",JSON.stringify(game));
updateUI();
notify("Save Imported!");
}

function deleteData(){
let confirmText=prompt("Type DELETE to erase your save");
if(confirmText==="DELETE"){
localStorage.removeItem("eggySave");
location.reload();
}
}

// ================= CLICK FIX =================

clickArea.addEventListener("pointerdown",function(e){

let gain=game.clickValue;

if(Math.random()<game.critChance){
gain*=5;
critStreak++;
}else{critStreak=0;}

maxCritStreak=Math.max(maxCritStreak,critStreak);

game.points+=gain;
game.totalClicks++;
clickTimes.push(Date.now());

let float=document.createElement("div");
float.className="floating";
float.innerText="+"+gain;
let rect=clickWrapper.getBoundingClientRect();
float.style.left=(e.clientX-rect.left)+"px";
float.style.top=(e.clientY-rect.top)+"px";
clickWrapper.appendChild(float);
setTimeout(()=>float.remove(),1000);

checkAchievements();
updateUI();
});

// ================= GOD MODE =================

function activateGodMode(){
game.points=1000000000;
game.clickValue=10000;
game.passive=5000;
game.critChance=1;
game.prestigeLevel=4;

for(let t=0;t<5;t++){
for(let f=0;f<4;f++){
let key=t+"-"+f;
if(!game.ownedSkins.includes(key)){
game.ownedSkins.push(key);
}
}
}

for(let i=0;i<achievementData.length;i++){
if(!game.achievements.includes(i)){
game.achievements.push(i);
}
}

updateUI();
notify("GOD MODE ACTIVATED");
}

// ================= END =================

</script>
</body>
</html>