<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eggy Clicker Polished</title>

<style>
body{
margin:0;
font-family:Arial;
background:#fdf6f0;
text-align:center;
overflow-x:hidden;
}

h1{margin-top:10px;}

.panel{
background:white;
margin:10px auto;
padding:10px;
border-radius:10px;
width:90%;
max-width:420px;
box-shadow:0 0 10px rgba(0,0,0,0.1);
}

button{
width:100%;
padding:8px;
margin-top:6px;
}

#clickArea{
font-size:110px;
cursor:pointer;
animation:bounce 1.2s infinite ease-in-out;
position:relative;
}

@keyframes bounce{
0%,100%{transform:translateY(0)}
50%{transform:translateY(-10px)}
}

.locked{
filter:grayscale(100%);
opacity:0.5;
}

.notification{
position:fixed;
top:-80px;
left:50%;
transform:translateX(-50%);
background:gold;
padding:10px 20px;
border-radius:10px;
transition:top 0.4s ease;
z-index:999;
}

.crit{
position:absolute;
color:red;
font-weight:bold;
animation:critPop 1s forwards;
}

@keyframes critPop{
0%{opacity:1; transform:translateY(0) scale(1)}
100%{opacity:0; transform:translateY(-40px) scale(1.5)}
}

.wardrobe-item{
padding:6px;
border:1px solid #ccc;
margin-top:5px;
cursor:pointer;
}
</style>
</head>
<body>

<h1>ü•ö Eggy Clicker</h1>
<div id="eggName"></div>
<div id="points"></div>
<div id="prestigeInfo"></div>

<div id="clickArea">ü•ö</div>

<div class="panel">
<h3>üõí Shop</h3>
<button onclick="buyClick()" id="clickBtn"></button>
<button onclick="buyAuto()" id="autoBtn"></button>
<button onclick="buyCrit()" id="critBtn"></button>
<button onclick="prestige()">üî• Prestige</button>
<button onclick="toggleWardrobe()">üëï Wardrobe</button>
<button onclick="deleteSave()">üóë Reset Game</button>
</div>

<div class="panel" id="wardrobePanel" style="display:none;">
<h3>Wardrobe</h3>
<div id="wardrobeList"></div>
</div>

<div class="panel">
<h3>üèÜ Achievements</h3>
<div id="achievements"></div>
</div>

<div id="notification" class="notification"></div>

<audio id="music" loop>
<source src="https://cdn.pixabay.com/audio/2022/03/15/audio_c8e59a0d0c.mp3">
</audio>

<script>

let saveKey="eggySaveV3";

let game={
points:0,
clickValue:1,
passive:0,
critChance:0,
clickCost:50,
autoCost:200,
critCost:300,
form:0,
ownedForms:[0],
prestigeLevel:0,
achievements:[]
};

const forms=["Normal","Cool","Top Hat","Crown"];
const emojis=["ü•ö","üòéü•ö","üé©ü•ö","üëëü•ö"];
const tiers=["None","Bronze","Silver","Gold","Diamond"];

const clickArea=document.getElementById("clickArea");
const pointsDisplay=document.getElementById("points");
const eggName=document.getElementById("eggName");
const prestigeInfo=document.getElementById("prestigeInfo");

document.body.addEventListener("click",()=>{
document.getElementById("music").play();
},{once:true});

function saveGame(){
localStorage.setItem(saveKey,JSON.stringify(game));
}

function loadGame(){
let data=localStorage.getItem(saveKey);
if(data){
game=JSON.parse(data);
}
}

function updateUI(){
pointsDisplay.innerText="Yolk Points: "+Math.floor(game.points);
eggName.innerText="Egg: "+tiers[getTier()]+" "+forms[game.form];
prestigeInfo.innerText="Prestige Cost: "+getPrestigeCost();
clickBtn.innerText="+1 Click ("+game.clickCost+")";
autoBtn.innerText="+1 Auto/sec ("+game.autoCost+")";
critBtn.innerText="Crit Chance ("+game.critCost+")";
renderWardrobe();
renderAchievements();
saveGame();
}

function getPrestigeCost(){
return 5000*(game.prestigeLevel+1);
}

function getTier(){
return Math.min(Math.floor(game.prestigeLevel/2)+1,4);
}

clickArea.addEventListener("click",function(e){
let gain=game.clickValue;
if(Math.random()<game.critChance){
gain*=5;
showCrit(e);
}
game.points+=gain;
checkAchievements();
updateUI();
});

setInterval(()=>{
game.points+=game.passive;
updateUI();
},1000);

function showCrit(e){
let c=document.createElement("div");
c.className="crit";
c.innerText="CRIT!";
c.style.left=e.offsetX+"px";
c.style.top=e.offsetY+"px";
clickArea.appendChild(c);
setTimeout(()=>c.remove(),1000);
}

function buyClick(){
if(game.points>=game.clickCost){
game.points-=game.clickCost;
game.clickValue++;
game.clickCost=Math.floor(game.clickCost*1.5);
}
}

function buyAuto(){
if(game.points>=game.autoCost){
game.points-=game.autoCost;
game.passive++;
game.autoCost=Math.floor(game.autoCost*1.6);
}
}

function buyCrit(){
if(game.points>=game.critCost){
game.points-=game.critCost;
game.critChance+=0.05;
game.critCost=Math.floor(game.critCost*1.8);
}
}

function prestige(){
if(game.points>=getPrestigeCost()){
game.points=0;
game.clickValue=1;
game.passive=0;
game.critChance=0;
game.clickCost=50;
game.autoCost=200;
game.critCost=300;
game.prestigeLevel++;
notify("Prestiged to "+tiers[getTier()]);
}
}

function toggleWardrobe(){
let panel=document.getElementById("wardrobePanel");
panel.style.display=panel.style.display==="none"?"block":"none";
}

function renderWardrobe(){
let list=document.getElementById("wardrobeList");
list.innerHTML="";
let prices=[0,1000,2500,5000];
for(let i=0;i<forms.length;i++){
let div=document.createElement("div");
div.className="wardrobe-item";
div.innerText=forms[i]+" ("+prices[i]+")";
if(!game.ownedForms.includes(i)) div.classList.add("locked");
div.onclick=function(){
if(game.ownedForms.includes(i)){
game.form=i;
}else if(game.points>=prices[i]){
game.points-=prices[i];
game.ownedForms.push(i);
game.form=i;
}
updateUI();
};
list.appendChild(div);
}
clickArea.innerText=emojis[game.form];
}

function renderAchievements(){
let achDiv=document.getElementById("achievements");
achDiv.innerHTML="";
let achList=[
["Thanks for Playing!",true],
["1000 Points",game.points>=1000],
["Own Cool Eggy",game.ownedForms.includes(1)],
["Own Top Hat Eggy",game.ownedForms.includes(2)],
["Own Crown Eggy",game.ownedForms.includes(3)]
];
achList.forEach((a,i)=>{
let d=document.createElement("div");
d.innerText=a[0];
if(!a[1]) d.className="locked";
if(a[1] && !game.achievements.includes(i)){
game.achievements.push(i);
notify(a[0]);
}
achDiv.appendChild(d);
});
}

function notify(text){
let n=document.getElementById("notification");
n.innerText="Achievement: "+text;
n.style.top="20px";
setTimeout(()=>{n.style.top="-80px";},2500);
}

function checkAchievements(){
}

function deleteSave(){
if(confirm("Reset everything?")){
localStorage.removeItem(saveKey);
location.reload();
}
}

loadGame();
updateUI();

</script>
</body>
</html>