<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eggy Clicker</title>

<style>
body{margin:0;font-family:Arial;background:#fdf6f0;text-align:center;transition:.3s}
h1,h2,h3{margin:8px}
.panel{margin:10px auto;padding:12px;border-radius:12px;width:95%;max-width:480px;box-shadow:0 0 15px rgba(0,0,0,.15)}
button{width:100%;padding:10px;margin-top:6px;border:none;border-radius:8px;font-weight:bold;cursor:pointer}
button:active{transform:scale(.98)}
#gameScreen{display:none}
#clickWrapper{position:relative;display:inline-block}
#clickArea{font-size:120px;cursor:pointer;animation:bounce 1.2s infinite ease-in-out;user-select:none}
@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-12px)}}
.floating{position:absolute;color:orange;font-weight:bold;pointer-events:none;animation:floatUp 1s forwards}
@keyframes floatUp{0%{opacity:1}100%{opacity:0;transform:translateY(-40px)}}
.notification{position:fixed;top:10px;left:50%;transform:translateX(-50%);background:gold;padding:10px 20px;border-radius:10px;font-weight:bold;z-index:999;opacity:0;transition:.3s}
.locked{opacity:.4;filter:grayscale(100%)}
#wardrobeBtn{background:red;color:white}
#saveBtn{background:green;color:white}
#topControls button{background:#444;color:white}
</style>
</head>
<body>

<div id="homeScreen">
<h1>ðŸ¥š EGGY CLICKER ðŸ¥š</h1>
<input id="usernameInput" placeholder="Enter Username">
<button onclick="startNewGame()">Start Game</button>
<button onclick="loadGame()">Load Save</button>
</div>

<div id="gameScreen">

<div id="topControls" class="panel">
<button onclick="toggleMode()">Toggle Emoji</button>
<button onclick="goToEvent()">Event</button>
<button onclick="activateGodMode()">God Mode</button>
</div>

<h2 id="usernameDisplay"></h2>
<h2 id="eggDisplay"></h2>
<div id="pointsDisplay"></div>
<div id="cpsDisplay"></div>

<div id="clickWrapper">
<div id="clickArea">ðŸ¥š</div>
</div>

<div class="panel">
<button id="wardrobeBtn" onclick="toggleWardrobe()">Wardrobe</button>
</div>

<div id="wardrobePanel" class="panel" style="display:none">
<h3>Wardrobe</h3>
<div id="wardrobeList"></div>
</div>

<div class="panel">
<h3>Shop</h3>
<button id="clickBtn" onclick="buyClick()"></button>
<button id="autoBtn" onclick="buyAuto()"></button>
<button id="critBtn" onclick="buyCrit()"></button>
</div>

<div class="panel">
<h3>Prestige</h3>
<button id="prestigeBtn" onclick="prestige()"></button>
</div>

<div class="panel">
<h3>Achievements</h3>
<div id="achievementsList"></div>
</div>

<div class="panel">
<button id="saveBtn" onclick="manualSave()">Save</button>
<button onclick="exportSave()">Export</button>
<button onclick="importSave()">Import</button>
<button onclick="deleteData()">Delete</button>
</div>

</div>

<div id="notification" class="notification"></div>

<script>

// ================= CORE SYSTEM =================

let game=null;
let clickTimes=[];
let critStreak=0;
let maxCritStreak=0;
let useEmoji=true;

const forms=["Normal","Cool","Top Hat","Crown"];
const emojis=["ðŸ¥š","ðŸ˜ŽðŸ¥š","ðŸŽ©ðŸ¥š","ðŸ‘‘ðŸ¥š"];

// Prestige rank generator
function getPrestigeName(level){
const base=["Bronze","Silver","Gold","Diamond","Master"];
if(level<10){
let tier=Math.floor(level/2);
let stage=level%2===0?" I":" II";
return (tier<4?base[tier]:base[4]) + stage;
}
if(level<20){
return "Master " + (level-9);
}
if(level===20)return "Ultimate Master";
return "Ultimate Master +" + (level-20);
}

const defaultGame={
username:"",
points:0,
totalClicks:0,
clickValue:1,
passive:0,
critChance:0,
clickCost:50,
autoCost:200,
critCost:300,
form:0,
prestigeLevel:0,
ownedSkins:["0-0"],
achievements:[],
lastPlayed:Date.now()
};

// ================= START =================

function startNewGame(){
let name=usernameInput.value.trim();
if(!name)return alert("Enter Username");
game=JSON.parse(JSON.stringify(defaultGame));
game.username=name;
homeScreen.style.display="none";
gameScreen.style.display="block";
updateUI();
}

function loadGame(){
let data=localStorage.getItem("eggySave");
if(!data)return alert("No save");
game=JSON.parse(data);
homeScreen.style.display="none";
gameScreen.style.display="block";
updateUI();
}

// ================= SAVE =================

function manualSave(){
game.lastPlayed=Date.now();
localStorage.setItem("eggySave",JSON.stringify(game));
notify("Saved!");
}

function exportSave(){
navigator.clipboard.writeText(btoa(JSON.stringify(game)));
notify("Copied!");
}

function importSave(){
let code=prompt("Paste Code");
if(!code)return;
game=JSON.parse(atob(code));
updateUI();
notify("Imported!");
}

function deleteData(){
if(prompt("Type DELETE")==="DELETE"){
localStorage.removeItem("eggySave");
location.reload();
}
}

// ================= CLICK =================

clickArea.addEventListener("pointerdown",function(e){
let gain=game.clickValue;
let isCrit=false;

if(Math.random()<game.critChance){
gain*=5;
isCrit=true;
critStreak++;
}else critStreak=0;

maxCritStreak=Math.max(maxCritStreak,critStreak);

game.points+=gain;
game.totalClicks++;
clickTimes.push(Date.now());

spawnNumber(e,gain,isCrit);
checkAchievements();
updateUI();
});

function spawnNumber(e,gain,isCrit){
let div=document.createElement("div");
div.className="floating";
div.innerText=(isCrit?"CRIT! +":"+")+gain;
let rect=clickWrapper.getBoundingClientRect();
div.style.left=(e.clientX-rect.left)+"px";
div.style.top=(e.clientY-rect.top)+"px";
clickWrapper.appendChild(div);
setTimeout(()=>div.remove(),1000);
}

// ================= SHOP =================

function buyClick(){
if(game.points<game.clickCost)return;
game.points-=game.clickCost;
game.clickValue++;
game.clickCost=Math.floor(game.clickCost*1.4);
}

function buyAuto(){
if(game.points<game.autoCost)return;
game.points-=game.autoCost;
game.passive++;
game.autoCost=Math.floor(game.autoCost*1.6);
}

function buyCrit(){
if(game.points<game.critCost)return;
game.points-=game.critCost;
game.critChance+=.05;
game.critCost=Math.floor(game.critCost*1.8);
}

// ================= PRESTIGE =================

function prestige(){
let cost=5000*(game.prestigeLevel+1);
if(game.points<cost)return;

game.points=0;
game.clickValue=1;
game.passive=0;
game.critChance=0;
game.prestigeLevel++;

notify("Now "+getPrestigeName(game.prestigeLevel));
}

// ================= WARDROBE =================

function toggleWardrobe(){
wardrobePanel.style.display=
wardrobePanel.style.display==="none"?"block":"none";
renderWardrobe();
}

function renderWardrobe(){
wardrobeList.innerHTML="";
for(let f=0;f<forms.length;f++){
let key=game.prestigeLevel+"-"+f;
let cost=(game.prestigeLevel+1)*(f+1)*500;

let div=document.createElement("div");
div.innerText=forms[f]+" ("+cost+")";

if(game.prestigeLevel===0 && f>0){
div.className="locked";
div.onclick=()=>notify("LOCKED");
}else{
div.onclick=function(){
if(!game.ownedSkins.includes(key)){
if(game.points<cost)return;
game.points-=cost;
game.ownedSkins.push(key);
}
game.form=f;
updateUI();
};
}

wardrobeList.appendChild(div);
}
}

// ================= ACHIEVEMENTS =================

const achievementData=[
"100 Clicks","1k Clicks","10k Clicks",
"Crit 5 Streak","Crit 10 Streak",
"5 CPS","10 CPS",
"First Prestige","Bronze II","Silver I","Silver II",
"Gold I","Gold II","Diamond I","Diamond II",
"Master I","Master V","Master X",
"Ultimate Master",
"Own 4 Skins","Own 8 Skins","Own 12 Skins",
"Full Bronze Set","Full Silver Set","Full Gold Set","Full Diamond Set",
"1M Yolk","10M Yolk","100M Yolk"
];

function unlockAchievement(i){
if(!game.achievements.includes(i)){
game.achievements.push(i);
notify("Achievement: "+achievementData[i]);
}
}

function checkAchievements(){
if(game.totalClicks>=100)unlockAchievement(0);
if(game.totalClicks>=1000)unlockAchievement(1);
if(game.totalClicks>=10000)unlockAchievement(2);
if(maxCritStreak>=5)unlockAchievement(3);
if(maxCritStreak>=10)unlockAchievement(4);

let cps=clickTimes.filter(t=>Date.now()-t<1000).length;
if(cps>=5)unlockAchievement(5);
if(cps>=10)unlockAchievement(6);

if(game.prestigeLevel>=1)unlockAchievement(7);
if(game.prestigeLevel>=2)unlockAchievement(8);
if(game.prestigeLevel>=3)unlockAchievement(9);
if(game.prestigeLevel>=4)unlockAchievement(10);
if(game.prestigeLevel>=5)unlockAchievement(11);
if(game.prestigeLevel>=6)unlockAchievement(12);
if(game.prestigeLevel>=7)unlockAchievement(13);
if(game.prestigeLevel>=8)unlockAchievement(14);
if(game.prestigeLevel>=9)unlockAchievement(15);
if(game.prestigeLevel>=14)unlockAchievement(16);
if(game.prestigeLevel>=19)unlockAchievement(17);
if(game.prestigeLevel>=20)unlockAchievement(18);

if(game.points>=1e6)unlockAchievement(26);
if(game.points>=1e7)unlockAchievement(27);
if(game.points>=1e8)unlockAchievement(28);
}

// ================= UI =================

function updateUI(){
usernameDisplay.innerText="Player: "+game.username;
eggDisplay.innerText="Egg "+getPrestigeName(game.prestigeLevel)+" "+forms[game.form];
pointsDisplay.innerText="Yolk: "+Math.floor(game.points);
cpsDisplay.innerText="CPS: "+clickTimes.filter(t=>Date.now()-t<1000).length;

clickBtn.innerText="+Click ("+game.clickCost+")";
autoBtn.innerText="+Auto ("+game.autoCost+")";
critBtn.innerText="Crit ("+game.critCost+")";
prestigeBtn.innerText="Prestige Cost: "+(5000*(game.prestigeLevel+1));
renderAchievements();
clickArea.innerText=useEmoji?emojis[game.form]:"EGG";
}

function renderAchievements(){
achievementsList.innerHTML="";
achievementData.forEach((a,i)=>{
let div=document.createElement("div");
div.innerText=a;
if(!game.achievements.includes(i))div.className="locked";
achievementsList.appendChild(div);
});
}

// ================= MISC =================

function notify(t){
notification.innerText=t;
notification.style.opacity=1;
setTimeout(()=>notification.style.opacity=0,2000);
}

function toggleMode(){
useEmoji=!useEmoji;
updateUI();
}

function goToEvent(){
alert("Event system coming next.");
}

function activateGodMode(){
game.points=1e9;
game.clickValue=10000;
game.passive=1000;
game.critChance=1;
game.prestigeLevel=20;
updateUI();
notify("GOD MODE ACTIVATED");
}

setInterval(()=>{
if(game){
game.points+=game.passive;
updateUI();
}
},1000);

</script>
</body>
</html>